/* (c) IGOR KOWALCZYK. All rights reserved. */

const toggletheme=document.querySelector('.theme-switch input[type="checkbox"]'),currenttheme=localStorage.getItem("theme"),meta=document.querySelector('meta[name="theme-color"]');function switchtheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),meta.setAttribute("content","#222"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),meta.setAttribute("content","#ffffff"),localStorage.setItem("theme","light"))}currenttheme&&(document.documentElement.setAttribute("data-theme",currenttheme),"dark"===currenttheme&&(toggletheme.checked=!0)),toggletheme.addEventListener("change",switchtheme,!1);const html=document.getElementsByTagName("html")[0],body=document.body,overlay=document.getElementById("overlay"),menu=document.getElementById("menu"),navbar=document.getElementById("navbar"),navbarlinks=document.querySelectorAll("#navbar a"),sections=document.querySelectorAll(".main-section");function findviewinglink(){Array.from(sections).reverse().find(e=>e.getBoundingClientRect().top<=80)&&Array.from(navbarlinks).forEach(e=>{e.getAttribute("href")===`#${viewingSection.getAttribute("id")}`?e.classList.add("selected"):e.classList.remove("selected")})}menu.addEventListener("click",()=>{body.classList.toggle("no-scroll"),menu.classList.toggle("open"),navbar.classList.toggle("open"),overlay.classList.toggle("open")}),overlay.addEventListener("click",()=>menu.click()),navbarlinks.forEach(e=>{e.addEventListener("click",e=>{menu.click()})}),window.onscroll=findviewinglink,findviewinglink();var scrollposition=window.scrollY,logocontainer=document.getElementsByClassName("menu-shadow")[0];window.addEventListener("scroll",function(){(scrollposition=window.scrollY)>=40?logocontainer.classList.add("scrolled"):logocontainer.classList.remove("scrolled")});var date=document.querySelector(".date");date.innerHTML=(new Date).getFullYear();