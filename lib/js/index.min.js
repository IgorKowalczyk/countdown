/* (c) IGOR KOWALCZYK. All rights reserved. */

const toggletheme=document.querySelector('.theme-switch input[type="checkbox"]'),currenttheme=localStorage.getItem("theme");function switchtheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}currenttheme&&(document.documentElement.setAttribute("data-theme",currenttheme),"dark"===currenttheme&&(toggletheme.checked=!0)),toggletheme.addEventListener("change",switchtheme,!1);const html=document.getElementsByTagName("html")[0],body=document.getElementsByTagName("body")[0],overlay=document.getElementById("overlay"),menu=document.getElementById("menu"),navbar=document.getElementById("navbar"),navbarLinks=document.querySelectorAll("#navbar a"),sections=document.querySelectorAll(".main-section");menu.addEventListener("click",()=>{body.classList.toggle("no-scroll"),menu.classList.toggle("open"),navbar.classList.toggle("open"),overlay.classList.toggle("open")}),overlay.addEventListener("click",()=>menu.click()),navbarLinks.forEach(e=>{e.addEventListener("click",e=>{menu.click()})});var scrollposition=window.scrollY,logocontainer=document.getElementsByClassName("menu-shadow")[0];function findViewingLink(){const e=Array.from(sections).reverse().find(e=>e.getBoundingClientRect().top<=80);e&&Array.from(navbarLinks).forEach(t=>{t.getAttribute("href")===`#${e.getAttribute("id")}`?t.classList.add("selected"):t.classList.remove("selected")})}window.addEventListener("scroll",function(){(scrollposition=window.scrollY)>=40?logocontainer.classList.add("scrolled"):logocontainer.classList.remove("scrolled")}),window.onscroll=findViewingLink,findViewingLink();